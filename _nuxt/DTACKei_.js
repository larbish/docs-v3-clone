import{r as m,C as v,E as S,bj as T,aK as b,d,G as h,aV as p,a3 as E,bk as I,bl as O}from"./DId4ceiX.js";function A(){const e=m(),r=v(()=>{var o,t;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(t=e.value)==null?void 0:t.$el.nextElementSibling:S(e)});return{primitiveElement:e,currentElement:r}}const F="rovingFocusGroup.onEntryFocus",U={bubbles:!1,cancelable:!0},x={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function D(e,r,o){const t=P(e.key,o);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(t))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(t)))return x[t]}function L(e,r=!1,o){const t=(o==null?void 0:o.activeElement)??document.activeElement;for(const n of e)if(n===t||(n.focus({preventScroll:r}),document.activeElement!==t))return}function N(e,r){return e.map((o,t)=>e[(r+t)%e.length])}const w="data-reka-collection-item";function k(e={}){const{key:r="",isProvider:o=!1}=e,t=`${r}CollectionProvider`;let n;if(o){const l=m(new Map);n={collectionRef:m(),itemMap:l},T(t,n)}else n=b(t);const g=(l=!1)=>{const i=n.collectionRef.value;if(!i)return[];const a=Array.from(i.querySelectorAll(`[${w}]`)),s=Array.from(n.itemMap.value.values()).sort((u,f)=>a.indexOf(u.ref)-a.indexOf(f.ref));return l?s:s.filter(u=>u.ref.dataset.disabled!=="")},M=d({name:"CollectionSlot",setup(l,{slots:i}){const{primitiveElement:a,currentElement:c}=A();return h(c,()=>{n.collectionRef.value=c.value}),()=>p(E,{ref:a},i)}}),R=d({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:i,attrs:a}){const{primitiveElement:c,currentElement:s}=A();return I(u=>{if(s.value){const f=O(s.value);n.itemMap.value.set(f,{ref:s.value,value:l.value}),u(()=>n.itemMap.value.delete(f))}}),()=>p(E,{...a,[w]:"",ref:c},i)}}),_=v(()=>Array.from(n.itemMap.value.values())),C=v(()=>n.itemMap.value.size);return{getItems:g,reactiveItems:_,itemMapSize:C,CollectionSlot:M,CollectionItem:R}}export{F as E,x as M,k as a,U as b,L as f,D as g,A as u,N as w};
